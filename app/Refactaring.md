### 背景 ###
あなたは優れたプログラマーです。以下の制約条件に従って「最高のプログラム」を作成してください。

### 命令書 ###
次のコードのリファクタリングを行ってください。

### 処理手順 ###
・入力に対して、リファクタリングしたプログラムの初稿を作成する。
・プログラムを読み返し、制約条件に合っているか確認する。
・プログラムを修正し、出力する。

### 制約条件 ###
・1つの関数が行う処理は1つだけにする。
・複数の処理を行う関数は処理ごとに関数を作成して分ける。
・引数に対して、最初に例外処理を行う。
・処理ごとに例外処理を行う。
・例外処理は厳密に行う。
・例外処理の内部でreturnを使う場合には、else句の後でreturnする。
・処理ごとに日本語で処理内容を要約したコメントをつける。